/* ===============================
   KnorPlanner — app-theme.css
   =============================== */

/* ----- CSS Variables ----- */
:root{
  --kp-bg:#fafafa; --kp-card:#fff; --kp-border:#e8e8ef;
  --kp-text:#111827; --kp-muted:#6b7280;
  --kp-accent:#ff5a76; --kp-accent-2:#5c7cfa;
  --kp-ok:#e7f7ee; --kp-warn:#fff7e6; --kp-bad:#ffe9ea;
  --kp-radius-xl:1.25rem; --kp-radius:.75rem; --kp-shadow:0 10px 30px rgba(0,0,0,.05);
  /* globale page gutter (zijmarges) */
  --kp-gutter: clamp(12px, 2vw, 24px);
}

/* ----- Baseline ----- */
html,body{
  background:var(--kp-bg); color:var(--kp-text);
  font-synthesis-weight:none; text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
}

/* ===== FULL-WIDTH LAYOUT OVERRIDES =====
   → verwijder alle max-width caps zoals Tailwind .container / .max-w-*
   → geef nette zijmarges via padding, i.p.v. een vaste max-width.
*/
.container,
.max-w-6xl, .max-w-7xl, .max-w-5xl, .max-w-screen-lg, .max-w-screen-xl, .max-w-screen-2xl,
[class^="max-w-"], [class*=" max-w-"]{
  max-width: 100% !important;
  width: 100% !important;
}

body > #root > * {
  /* hoofdcontent altijd volle breedte met bescheiden gutter */
  width: 100%;
  padding-left: var(--kp-gutter);
  padding-right: var(--kp-gutter);
  box-sizing: border-box;
}

/* Kaarten */
.rounded-2xl{border-radius:var(--kp-radius-xl)!important;background:var(--kp-card);box-shadow:var(--kp-shadow);border:1px solid var(--kp-border)!important;}
.rounded-xl{border-radius:var(--kp-radius)!important;background:var(--kp-card);border:1px solid var(--kp-border)!important;}
.rounded-2xl.p-4,.rounded-xl.p-4,.rounded-xl.p-3,.rounded-2xl.p-3{padding:1.25rem!important;}

/* ----- Header / Navigatie-balk (simpel & mobiel-proof) ----- */
header{
  position:static!important; z-index:30; background:#fff;
  border-bottom:1px solid var(--kp-border); padding:.75rem 1rem!important;
}
/* Chips op meerdere regels */
header nav{
  display:flex; flex-wrap:wrap!important; overflow:visible!important;
  gap:.4rem .6rem; padding:.25rem 0 .5rem;
}
/* Geen hover-lift op mobiel */
header nav button{transform:none!important; box-shadow:none!important;}
/* Altijd wat ruimte onder de header */
main{margin-top:.5rem!important;}

/* Link kopiëren + Versies */
header details{background:#fff;border:1px solid var(--kp-border);border-radius:var(--kp-radius);}
header details summary{list-style:none;}
header details summary::-webkit-details-marker{display:none;}

/* ----- Controls ----- */
button,.rounded-full{transition:all .15s ease;}
button:hover,.rounded-full:hover{transform:translateY(-1px);}
input[type="text"],input[type="number"],input[type="time"],input[type="date"],select,textarea{
  background:#fff;border:1px solid var(--kp-border);border-radius:.65rem;padding:.55rem .7rem;outline:none;
  transition:box-shadow .2s ease,border-color .2s ease;
}
input:focus,select:focus,textarea:focus{border-color:var(--kp-accent-2);box-shadow:0 0 0 4px rgba(92,124,250,.15);}
button.kp-primary,button.bg-black.text-white{background:var(--kp-accent);border-color:var(--kp-accent)!important;color:#fff!important;}
button.kp-primary:hover{filter:brightness(.95);}

/* Badge */
.kp-badge{display:inline-block;padding:.15rem .5rem;border-radius:999px;font-size:.72rem;line-height:1rem;font-weight:600;}

/* ----- Tabellen ----- */
table{border-collapse:separate!important;border-spacing:0!important;width:100%;background:#fff;border-radius:var(--kp-radius);overflow:hidden;border:1px solid var(--kp-border);}
thead tr{background:#f6f7fb!important;}
th,td{border-bottom:1px solid var(--kp-border)!important;padding:.6rem .65rem!important;vertical-align:middle;}
tbody tr:last-child td{border-bottom:none!important;}

/* Rijkleuren */
.bg-yellow-50{background:var(--kp-warn)!important;}
.bg-blue-50{background:#eef3ff!important;}
.bg-green-50{background:var(--kp-ok)!important;}
.bg-red-50{background:var(--kp-bad)!important;}

/* Lege-tekst grapje */
.text-gray-500:empty::after, td:empty::after{content:"—";color:#9aa0a6;font-style:italic;opacity:.7;}

/* Fixed bottom banner (optioneel element .fixed-tools) */
.fixed-tools{
  position:fixed; left:1rem; bottom:1rem; z-index:60;
  background:#ffffffcc; backdrop-filter:blur(6px);
  border:1px solid var(--kp-border); border-radius:14px; box-shadow:var(--kp-shadow);
  padding:.5rem; display:flex; gap:.4rem; flex-wrap:wrap;
}
.fixed-tools button{font-size:.85rem;}

/* Programma en Tijden badges */
#print-program .kp-badge--music{background:#e8f1ff;color:#3566ff;}
#print-program .kp-badge--break{background:#fff2c2;color:#8a6200;}

/* MicMatrix breedte */
.min-w-\[140px\]{min-width:140px!important;}
@media (max-width:900px){
  .min-w-\[140px\]{min-width:120px!important;}
  th.w-56,td.w-56,.w-56{width:12rem!important;}
}

/* Scrolling helpers */
.overflow-auto{overflow:auto;}

/* Extra bodemruimte onder content (voor tools) */
main{padding-bottom:5rem;}

/* Mobile helpers */
@media (max-width:700px){
  header h1{font-size:1.25rem!important;}
  .md\:grid-cols-3{grid-template-columns:1fr!important;}
  .md\:col-span-2{grid-column:span 1 / span 1!important;}
  .w-20{width:5.5rem!important;} .w-24{width:6rem!important;} .w-16{width:4.5rem!important;}
  .flex{gap:.5rem;} .px-4.py-2{padding:.5rem .75rem!important;}
}

/* Humor-chipje */
body::after{
  content:"oink"; position:fixed; right:8px; bottom:8px; font-size:10px;
  background:var(--kp-accent); color:#fff; padding:2px 6px; border-radius:999px; opacity:.65; pointer-events:none;
}

/* Print */
@media print{
  header,.fixed-tools{display:none!important;}
  body{background:#fff!important;}
  table{box-shadow:none!important;border-color:#ccc!important;}
}

/* === Mobile fixed header + horizontal chips === */
@media (max-width: 768px) {
  :root { --topbar-h: 56px; } /* h-14 uit je JSX */

  /* 1) Header weer 'fixed' bovenaan, override vorige !important */
  header {
    position: fixed !important;
    top: 0; left: 0; right: 0;
    z-index: 1000;
    background: #fff; /* match met je huidige stijl */
    border-bottom: 1px solid var(--kp-border);
    padding: .75rem 1rem !important;
    backdrop-filter: blur(6px);
  }

  /* 2) Body krijgt ruimte zodat content niet onder header verdwijnt */
  body { padding-top: var(--topbar-h); }

  /* 3) De binnenste bar met vaste hoogte (h-14) blijft 56px */
  header .h-14 { height: var(--topbar-h); }

  /* 4) Nav: niet meer wrappen -> 1 rij met horizontale scroll */
  header nav {
    display: flex;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    overflow-y: hidden;
    gap: .5rem;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    padding-bottom: .25rem;
  }

  header nav::-webkit-scrollbar { height: 6px; }
  header nav::-webkit-scrollbar-thumb { background: #ddd; border-radius: 4px; }
}

/* === DESKTOP: topbar altijd 1 rij, horizontaal scrollbaar === */
@media (min-width: 769px) {
  header nav {
    display: flex;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    gap: .5rem;
  }
  header nav > * { flex: 0 0 auto; }
  header nav button,
  header nav a { white-space: nowrap; }
}

/* =========================================================
   SHARE-/READ-ONLY PAGES – nu ook 100% breed
   (voorheen capped op ~1440px)
   ========================================================= */
@media (min-width: 1024px){
  .mx-auto.max-w-6xl{
    max-width: 100% !important;
    width: 100% !important;
    padding-left: var(--kp-gutter);
    padding-right: var(--kp-gutter);
  }
}

/* Als content in kaarten breder is, laat horizontaal scrollen i.p.v. layout breken */
.share-only,
.mx-auto.max-w-6xl,
.mx-auto.max-w-6xl > *,
section.rounded-2xl.border,
.rounded-xl.border,
.pr-card{
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* ================================================
   MOBIEL – full-width & geen overflow
   ================================================ */
@media (max-width: 768px){
  section.rounded-2xl.border,
  .rounded-xl.border,
  .pr-card{
    width: 100%;
  }

  table{
    display: block;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  input, select, textarea{
    min-width: 0 !important;
    max-width: 100%;
  }
  .flex-1, .grow{ min-width: 0 !important; }

  a, .break-anywhere, input[type="url"]{
    overflow-wrap: anywhere;
    word-break: break-word;
  }
}

/* ======================================================
   SPECIFIEKE QUALITY-OF-LIFE fixes (desktop & mobiel)
   ====================================================== */
.pr-card .flex-1.min-w-0,
.pr-card .flex-1{ min-width: 0; }
.pr-card a[href].whitespace-nowrap{ flex: 0 0 auto; }
.pr-card img{ max-width: 100%; height: auto; display: block; }

@media (max-width: 480px){
  input[type="url"]{ font-size: 0.9rem; }
}

/* ====== BRANDING ====== */
.brand-title{
  font-size: clamp(1.35rem, 1.2rem + 1.2vw, 2.2rem);
  line-height: 1.05;
  white-space: nowrap;
}
.brand-header .brand-logo{
  filter: drop-shadow(0 1px 1px rgba(0,0,0,.08));
}

@media (min-width: 769px){
  header nav{
    display:flex;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    gap: .5rem;
  }
  header nav > *{ flex: 0 0 auto; }
  header nav button,
  header nav a{ white-space: nowrap; }
}

/* ====== SHARE PAGES: subtiel watermerk-logo rechtsonder ====== */
.share-only::after{
  content:"";
  position: fixed;
  right: 14px;
  bottom: 14px;
  width: 44px;
  height: 44px;
  background-image: url("https://cdn-icons-png.flaticon.com/512/616/616584.png");
  background-size: contain;
  background-repeat: no-repeat;
  opacity: .15;
  pointer-events: none;
  z-index: 10;
}

/* ====== Kaarten: een kleine corner badge ====== */
.pr-card{ position: relative; }
.pr-card::before{
  content:"";
  position:absolute;
  top: 10px; right: 10px;
  width: 18px; height: 18px;
  background-image: url("https://cdn-icons-png.flaticon.com/512/616/616584.png");
  background-size: contain; background-repeat:no-repeat;
  opacity:.18;
  pointer-events:none;
}

/* Kleine hulpfix: inputs breken netjes */
input, select, textarea{ min-width: 0; }